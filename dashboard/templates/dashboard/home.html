{% extends 'dashboard/main.html' %}

{% block content %}
<main class="home-container mt-5">
    <div class="main-title">
        <h1>Welcome to <span class="title">Academic Hub</span></h1>
        <p class="lh-lg mt-2 fs-4">Learn Today, Lead Tomorrow!</p>
        <button class="btn btn-dark" id="createProfile">Profile</button>
        <button class="btn btn-dark">
            <a href="{% url 'dashboard' %}" class="text-decoration-none text-white">Dashboard</a>
        </button>
    </div>
</main>
{% endblock %}


{% block scripts %}
<script>
    const profileBtn = document.querySelector("#createProfile");

    document.addEventListener("DOMContentLoaded", (e) => {
        setTimeout(() => {
            const message = document.querySelectorAll(".alert-message");
            message.forEach((items) => {
                items.style.opacity = 0;
                items.style.transition = "opacity 1s ease";
                setTimeout(() => {
                    items.style.display = "none";
                }, 1000);
            });
        }, 3000);
    });

    if (profileBtn) {
        profileBtn.addEventListener("click", () => {
            let profileImg = document.querySelector(".profile-img");
            profileImg.classList.add("highlight-profile");

            const toggleNav = document.querySelector(".navbar-toggler");

            if (window.innerWidth < 992) {
                if (toggleNav.getAttribute("aria-expanded") === "false") {
                    toggleNav.click();
                }
            }
            setTimeout(() => {
                profileImg.classList.remove("highlight-profile");
                toggleNav.getAttribute("aria-expanded") === "true";
            }, 5000);
        });
    } else {
        console.log("profile btn found");
    }

</script>
{% endblock %}